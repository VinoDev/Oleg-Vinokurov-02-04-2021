(this["webpackJsonpoleg-vinokurov-02-04-2021"]=this["webpackJsonpoleg-vinokurov-02-04-2021"]||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),s=a.n(c),o=a(16),i=(a(94),a(95),a(43)),u=a(13),l=(a(96),a(4)),d=function(){return Object(l.jsxs)("div",{className:"navbar",children:[Object(l.jsx)("span",{className:"brand",children:"Weather"}),Object(l.jsxs)("div",{className:"nav-links",children:[Object(l.jsx)(i.b,{to:"/Oleg-Vinokurov-02-04-2021",activeClassName:"active-link",children:"Home"}),Object(l.jsx)(i.b,{to:"/favourites",activeClassName:"active-link",children:"Favourites"})]})]})},p=(a(99),a(142)),f=(a(100),a(143)),h=a(140),v=a(73),m=a.n(v),j=function(e){var t=e.handleSubmit,a=e.handleChange,r=e.userInput;return Object(l.jsxs)("form",{className:"search-form",onSubmit:function(e){return t(e)},children:[Object(l.jsx)(f.a,{variant:"filled",label:"City",className:"search-field",value:r,onChange:function(e){return a(e)}}),Object(l.jsx)(h.a,{type:"submit",children:Object(l.jsx)(m.a,{})})]})},b=(a(102),a(103),function(e){var t=e.data;return Object(l.jsxs)("div",{className:"forecast-item",children:[Object(l.jsx)("span",{className:"forecast-day",children:t.day}),Object(l.jsx)("span",{children:t.maxTemp+"\xb0C"}),Object(l.jsx)("span",{className:"min-temp",children:t.minTemp+"\xb0C"})]})}),x=(a(104),a(141)),y=a(75),O=a.n(y),w=a(74),g=a.n(w),k=a(76),F=a(39),N=Object(F.b)({name:"favourites",initialState:{favourites:[]},reducers:{addToFavourites:function(e,t){e.favourites=[].concat(Object(k.a)(e.favourites),[t.payload])},removeFromFavourites:function(e,t){e.favourites=e.favourites.filter((function(e){return e.key!==t.payload}))}}}),S=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.weather})),a=t.city,r=t.key,n=t.weatherText,c=t.weatherIcon,s=t.temp,i=Object(o.c)((function(e){return e.favourites})).favourites,u=N.actions,l=u.addToFavourites,d=u.removeFromFavourites,p=i.some((function(e){return r===e.key}));return{handleFavourite:function(){e(p?d(r):l({key:r,city:a,weatherText:n,weatherIcon:c,temp:s}))},isFavorite:p}},T=function(){var e=S(),t=e.handleFavourite,a=e.isFavorite;return Object(l.jsx)("div",{className:"favorite-toggle",children:Object(l.jsx)(x.a,{onClick:t,children:a?Object(l.jsx)(g.a,{}):Object(l.jsx)(O.a,{})})})},C=a.p+"static/media/Sun.b6137c72.svg",A=a.p+"static/media/Partly-Cloudy.e31510c0.svg",I=a.p+"static/media/Cloud.d61e7b67.svg",D=a.p+"static/media/Fog.b7e20899.svg",E=a.p+"static/media/Rain.778544a0.svg",M=a.p+"static/media/Thunder-Storm.53d9ec44.svg",W=a.p+"static/media/Snow.64d4e146.svg",q=a.p+"static/media/Moon.ed272c07.svg",V=a.p+"static/media/Partly-Cloudy-Moon.2ef9512f.svg",R=function(e){switch(e){case 1:case 2:return C;case 3:case 4:case 5:return A;case 6:case 7:case 8:return I;case 11:return D;case 12:case 13:case 14:case 18:case 39:case 40:return E;case 15:case 16:case 17:case 41:case 42:return M;case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 43:case 44:return W;case 33:case 34:return q;case 35:case 36:case 37:case 38:return V;default:return C}},J=function(){var e=Object(o.c)((function(e){return e.weather})),t=e.city,a=e.temp,r=e.forecast,n=e.weatherIcon;return Object(l.jsxs)("div",{className:"weather-info",children:[Object(l.jsxs)("div",{className:"info-top",children:[Object(l.jsxs)("div",{className:"current-city",children:[Object(l.jsx)("img",{src:R(n),alt:"icon",className:"icon-demo"}),Object(l.jsxs)("div",{className:"current-city-info",children:[Object(l.jsx)("span",{children:"".concat(t)}),Object(l.jsx)("span",{children:"".concat(a," \xb0C")})]})]}),Object(l.jsx)(T,{})]}),Object(l.jsx)("div",{className:"info-bottom",children:r.length>0&&r.map((function(e,t){return Object(l.jsx)(b,{data:{day:e.day,minTemp:e.minTemp,maxTemp:e.maxTemp}},t)}))})]})},z=a(15),B=a.n(z),G=a(47),P=a(21),H=a(77),K="vu78NGV2z9BAdc7JGriuWppbFCFBCJtG",L=function(){var e=Object(P.a)(B.a.mark((function e(t){var a,r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(K),e.prev=1,e.next=4,fetch(a);case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n[0]);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(P.a)(B.a.mark((function e(t){var a,r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(K,"&metric=true"),e.prev=1,e.next=4,fetch(a);case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n.DailyForecasts);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(P.a)(B.a.mark((function e(t){var a,r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(K,"&q=").concat(t),e.prev=1,e.next=4,fetch(a);case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),_=Object(F.b)({name:"weather",initialState:{city:"",temp:"",weatherText:"",weatherIcon:"",key:"",forecast:[],loadingData:!1,loadingAutocomplete:!1,error:""},reducers:{weatherAndForecastRequest:function(e,t){e.loadingData=!0,e.error=""},weatherAndForecastSuccess:function(e,t){e.loadingData=!1,e.weatherText=t.payload.weatherText,e.weatherIcon=t.payload.weatherIcon,e.temp=t.payload.temp,e.forecast=t.payload.forecast,e.key=t.payload.key,e.city=t.payload.city},weatherAndForecastFail:function(e,t){e.loadingData=!1,e.error=t.payload},autocompleteRequest:function(e,t){e.loadingAutocomplete=!0,e.error=""},autocompleteSuccess:function(e,t){e.loadingAutocomplete=!1,e.key=t.payload.key,e.city=t.payload.city},autocompleteFail:function(e,t){e.loadingAutocomplete=!1,e.error=t.payload},clearError:function(e){e.error=""}}}),Q=function(){var e=Object(o.b)(),t=_.actions,a=t.autocompleteRequest,r=t.autocompleteSuccess,n=t.autocompleteFail;return{handleAutocomplete:function(){var t=Object(P.a)(B.a.mark((function t(c){var s,o,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(a()),t.next=4,$(c);case 4:if(0!==(s=t.sent).length){t.next=8;break}return e(n("City not found.")),t.abrupt("return",!1);case 8:return o=s[0],i={key:o.Key,city:o.LocalizedName},e(r(i)),t.abrupt("return",i);case 14:t.prev=14,t.t0=t.catch(0),e(n("Something went wrong..."));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}},U=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]},X=function(){var e=Object(o.b)(),t=_.actions,a=t.weatherAndForecastRequest,r=t.weatherAndForecastSuccess,n=t.weatherAndForecastFail,c=function(){var t=Object(P.a)(B.a.mark((function t(c){var o,u,l,d,p;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.key,u=c.city,t.prev=1,e(a()),t.next=5,s(o);case 5:return l=t.sent,t.next=8,i(o);case 8:d=t.sent,p=Object(G.a)(Object(G.a)({},l),{},{forecast:d,key:o,city:u}),e(r(p)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e(n("Something went wrong..."));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var e=Object(P.a)(B.a.mark((function e(t){var a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return a=e.sent,r={temp:a.Temperature.Metric.Value.toString(),weatherText:a.WeatherText,weatherIcon:a.WeatherIcon},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(P.a)(B.a.mark((function e(t){var a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return a=e.sent,r=a.map((function(e){return{day:U(e.Date),minTemp:e.Temperature.Minimum.Value.toString(),maxTemp:e.Temperature.Maximum.Value.toString()}})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getWeatherAndForecast:c}},Z=function(){var e=Object(r.useState)(""),t=Object(H.a)(e,2),a=t[0],n=t[1],c=X().getWeatherAndForecast,s=Q().handleAutocomplete;return{handleSubmit:function(){var e=Object(P.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),!a){e.next=14;break}return a.trim(),e.next=6,s(a);case 6:if(r=e.sent,n(""),!r.key){e.next=13;break}return c(Object(G.a)({},r)),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),handleChange:function(e){(""===e.target.value||/^[a-z_ ]+$/i.test(e.target.value))&&n(e.target.value)},userInput:a}},ee=function(){var e=Z(),t=e.handleSubmit,a=e.handleChange,r=e.userInput,n=Object(o.c)((function(e){return e.weather})),c=n.loadingData,s=n.loadingAutocomplete,i=n.error;return c||s?Object(l.jsx)("div",{className:"load-container",children:Object(l.jsx)(p.a,{})}):Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)(j,{handleSubmit:t,handleChange:a,userInput:r}),!i&&Object(l.jsx)(J,{})]})},te=(a(106),function(){var e=Object(o.c)((function(e){return e.favourites})).favourites;return e.length>0?Object(l.jsx)("div",{className:"favourites",children:e.map((function(e){return Object(l.jsxs)("div",{className:"favorite-item",children:[Object(l.jsx)("span",{className:"favorite-city",children:e.city}),Object(l.jsx)("span",{children:"".concat(e.temp," \xb0C")}),Object(l.jsx)("span",{children:e.weatherText})]},e.key)}))}):Object(l.jsx)("div",{className:"no-data-msg",children:"You have no favorite location saved."})}),ae=a(54),re=function(){var e=Object(ae.b)().enqueueSnackbar;return{showErrorMessage:function(t){e(t,{variant:"error",preventDuplicate:!0})},error:Object(o.c)((function(e){return e.weather})).error}},ne=function(){var e=X().getWeatherAndForecast,t=re(),a=t.showErrorMessage,n=t.error;return Object(r.useEffect)((function(){e({key:"215854",city:"Tel Aviv"})}),[]),Object(r.useEffect)((function(){n&&a(n)}),[n]),Object(l.jsx)("div",{className:"app",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(u.a,{path:"/Oleg-Vinokurov-02-04-2021",exact:!0,component:ee}),Object(l.jsx)(u.a,{path:"/favourites",exact:!0,component:te})]})})},ce=a(19),se=Object(ce.c)({weather:_.reducer,favourites:N.reducer}),oe=Object(F.a)({reducer:se});s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(o.a,{store:oe,children:Object(l.jsx)(ae.a,{maxSnack:3,children:Object(l.jsx)(ne,{})})})}),document.getElementById("root"))},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},99:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.b9755485.chunk.js.map